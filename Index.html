<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <title>我的Vue学习Demo首页</title>
    <link rel="stylesheet" href="prism.css"/>
    <style type="text/css">
        .demo {
            border: 1px solid #d6dde3;
            background: #ede9ed;
            min-height: 100px;
            width: 600px;
            margin: 10px 0 0 20px;
            padding: 10px 10px 10px 20px;
            line-height: 35px;
        }

        .title {
            font-size: 16px;
            font-weight: bold;
            margin-left: 20px;
        }

        .red {
            color: red;
        }

        .highlighting{
            color: #ffb02a;
            background: #e3e7d5;
            font-family: Verdana;
            padding: 2px;
        }
    </style>
</head>
<body>
<a name="Dictionary"></a>
<h1>我的Vue学习Demo</h1>
<h2>目录</h2>
<ul>
    <li><a href="#FirstDemo"></a></li>
    <li><a href="#For">渲染列表</a></li>
    <li><a href="#ReserveMessage">处理用户输入</a></li>
    <li><a href="#Total">综合</a></li>
    <li><a href="#If">if指令</a></li>
    <li><a href="#VmPropertity">vm实例的属性和方法</a></li>
    <li><a href="#LifeCycle">vm实例的生命周期</a></li>
    <li><a href="#DataBind">数据绑定</a></li>
</ul>
<h2>Demo</h2>

<!-- 第一个Demo：双向绑定 ---开始-->
<a name="FirstDemo"></a>
<h3 class="title">#第一个Demo：双向绑定></h3>
<div class="demo">
    <div id="FirstDemo">
        <input v-model="Message" type="text"/></br>
        <p>{{Message}}</p>
    </div>
</div>
<!-- 第一个Demo：双向绑定 ---结束-->
</br>
<span><a href="#Dictionary">回目录</a></span>

<!-- 渲染列表 ---开始-->
<a name="For"></a>
<h3 class="title">#渲染列表</h3>
<div class="demo">
    <div id="For">
        <ul>
            <li v-for="item in list">
                {{item}}
            </li>
        </ul>
    </div>
    <p class="red">注：这里的list必须是数组对象！</p>
    <p class="red">另：其中一个指令解析出错，所有指令都不执行！</p>
</div>
<!-- 渲染列表 ---结束-->
</br>
<span><a href="#Dictionary">回目录</a></span>

<!-- 处理用户输入 ---开始-->
<a name="ReserveMessage"></a>
<h3 class="title">#处理用户输入</h3>
<div class="demo">
    <div id="ReserveMessage">
        <p>{{Message}}</p>
        <button v-on:click="reserveMessage">Reserve Message</button>
    </div>
</div>
<!-- 处理用户输入 ---结束-->
</br>
<span><a href="#Dictionary">回目录</a></span>

<!-- 综合 ---开始-->
<a name="Total"></a>
<h3 class="title">#综合</h3>
<div class="demo">
    <div id="Total">
        <input type="text" v-on:keyup.enter="AddTodo" placeholder="Keyup Enter to add item" v-Model="newTodo"/>
        <ul>
            <li v-for="todo in Todos">
                <span>{{todo.Text}}</span>
                <button v-on:click="RemoveTodo($index)">X</button>
            </li>
        </ul>
    </div>
</div>
<!-- 综合 ---结束-->
</br>
<span><a href="#Dictionary">回目录</a></span>

<!-- if指令 ---开始-->
<a name="If"></a>
<h3 class="title">#if指令</h3>
<div class="demo">
    <div id="If">
        <span v-if="greeting">Hello!</span>
    </div>
</div>
<!-- if指令 ---结束-->
</br>
<span><a href="#Dictionary">回目录</a></span>

<!-- vm实例的属性和方法 ---开始-->
<a name="VmPropertity"></a>
<h3 class="title">#vm实例的属性和方法</h3>
<div class="demo">
    <div id="VmPropertity">
        <ul>
            <li>一个Vue的实例其实正是一个MVVM模式中的ViewModel-因此后可经常使用vm这个变量名</li>
            <li>在实例化Vue时,需要传入一个选项对象，它可以包含数据、模板、挂载元素、方法、生命周期钩子等</li>
            <li>可以扩展Vue构造器，从而用预定义的选项创建可复用的组件构造器</li>
            <li>组件其实都是被扩展的Vue实例</li>
        </ul>
        <h4>属性与方法</h4>
        <p>每个Vue的实例都会代理其<span class="highlighting">data</span>对象里所有的属性</p>
        <pre>
            <code class="language-javascript">
var data = { a: 1 }
var vm = new Vue({
data: data
})

vm.a === data.a // -> true

// 设置属性也会影响到原始数据
vm.a = 2
data.a // -> 2

// ... 反之亦然
data.a = 3
vm.a // -> 3
            </code>
        </pre>
        <p>除了数据属性，Vue实例暴露了一些有用的实例属性和方法，这些属性与方法都有前缀$,以便与代理的数据属性区分。</p>
        <pre>
            <code class="language-javascript">
var data = {a:1};
var vm = new Vue({
el:'#example',
data:data
});

vm.$data === data // -> true
vm.$el === document.getElementById('example') // -> true

// $watch 是一个实例方法
vm.$watch('a',function(newVal,oldVal){
    // 这个回调将在 'vm.a' 改变后调用
});
            </code>
        </pre>
    </div>
</div>
<!-- vm实例的属性和方法 ---结束-->
</br>
<span><a href="#Dictionary">回目录</a></span>

<!-- vm实例的生命周期 ---开始-->
<a name="LifeCycle"></a>
<h3 class="title">#vm实例的生命周期</h3>
<div class="demo lifeCycle">
    <div id="LifeCycle">
        <p>下图说明了vm实例的生命周期</p>
        <img src="http://cn.vuejs.org/images/lifecycle.png" style="width:560px">
        <p>{{createdTime}}</p>
        <p>{{beforeCompileTime}}</p>
        <p>{{compiledTime}}</p>
        <p>{{readyTime}}</p>
        <p>{{beforeDestroyTime}}</p>
        <p>{{destroyedTime}}</p>
    </div>
</div>
<!-- vm实例的生命周期 ---结束-->
</br>
<span><a href="#Dictionary">回目录</a></span>

<!-- 数据绑定 ---开始-->
<a name="DataBind"></a>
<h3 class="title">#数据绑定</h3>
<div class="demo lifeCycle">
    <div id="DataBind">
        <h4>文本</h4>
        <p>数据绑定最基础的形式是文本插值，使用“Mustache”语法（双大括号）</p>
        <span>Message: {{ msg }}</span>
        <pre>
            <code class="language-markup">
                <script type="prism-html-markup">
<span>Message: {{ msg }}</span>
                </script>
            </code>
        </pre>
        <p>单次插值</p>
        <span>This will never change: {{* msg }}</span>
        <pre>
            <code class="language-markup">
                <script type="prism-html-markup">
<span>This will never change: {{* msg }}</span>
                </script>
            </code>
        </pre>
        <p>JavaScript Code</p>
        <pre>
            <code class="language-javascript">
var dataBind = new Vue({
        el:"#DataBind",
        data:{
            msg:"This is the message"
        },
        methods:{
            changeMsg:function(){
                this.msg = "The message is changed!";
            }
        }
    });
            </code>
        </pre>
        </br>
        <button v-on="changeMsg">Change Msg</button>
    </div>
</div>
<!-- 数据绑定 ---结束-->
</br>
<span><a href="#Dictionary">回目录</a></span>

</body>
<script type="text/javascript" src="prism.js"></script>
<script type="text/javascript" src="vue.js"></script>
<script type="text/javascript">
    // #第一个Demo：双向绑定
    var fd = new Vue({
        el: "#FirstDemo",
        data: {
            Message: "Hello World!"
        }
    });

    //#渲染列表
    var theFor = new Vue({
        el: "#For",
        data: {
            list: [
                "First",
                "Second",
                "Third",
                "Fourth"
            ]
        }
    });

    //#处理用户输入
    var reserveMessage = new Vue({
        el: "#ReserveMessage",
        data: {
            Message: "Hello VueJs!"
        },
        methods: {
            reserveMessage: function () {
                this.Message = this.Message.split('').reverse().join('');
            }
        }
    });

    //#综合
    var total = new Vue({
        el: "#Total",
        data: {
            newTodo: "",
            Todos: [
                {
                    Text: "Add some todo"
                }
            ]
        },
        methods: {
            AddTodo: function () {
                var text = this.newTodo.trim();
                this.Todos.push({
                    Text: text
                });
            },
            RemoveTodo: function (index) {
                this.Todos.splice(index, 1);
            }
        }
    });

    //#if指令
    var theIf = new Vue({
        el: "#If",
        data: {
            greeting: true
        }
    });
    var number = 0;

    //#vm实例的生命周期
    var lifeCycle = new Vue({
        el:"#LifeCycle",
        data:{
            createdTime:"createdTime",
            beforeCompileTime:"beforeCompileTime",
            compiledTime:"compiledTime",
            readyTime:"readyTime",
            beforeDestroyTime:"beforDestroyTime",
            destroyedTime:"destoryedTime"
        },
        created:function(){
            number++;
            this.createdTime = "createdTime: "+GetTime()+" order:"+number;
        },
        beforeCompile:function(){
            number++;
            this.beforeCompileTime = "beforeCompileTime: "+GetTime()+" order:"+number;
        },
        compiled:function(){
            number++;
            this.compiledTime = "compiledTime: "+GetTime()+" order:"+number;
        },
        ready:function(){
            number++;
            this.readyTime = "readyTime: "+GetTime()+" order:"+number;
        },
        beforeDestroy:function(){
            number++;
            this.beforeDestroyTime = "beforeDestroyTime: "+GetTime()+" order:"+number;
            //alert(this.beforeDestroyTime);
        },
        destroyed:function(){
            number++;
            this.destroyedTime = "destroyedTime: "+GetTime()+" order:"+number;
            //alert(this.destroyedTime);
        }
    });
    //lifeCycle.$destroy(false);
    //var lifeCycleDemo = document.getElementsByClassName("lifeCycle");
    //lifeCycle.$mount(lifeCycleDemo);
    function GetTime(){
        var time = new Date();
        return time.getFullYear()+"年"+(time.getMonth()+1)+"月"+time.getDate()+"日 "
        +time.getHours()+":"+time.getMinutes()+":"+time.getSeconds()+" "+time.getMilliseconds()
        +"毫秒";
    }

    //数据绑定
    var dataBind = new Vue({
        el:"#DataBind",
        data:{
            msg:"This is the message"
        },
        methods:{
            changeMsg:function(){
                this.msg = "The message is changed!";
            }
        }
    });


</script>
</html>